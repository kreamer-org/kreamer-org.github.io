<!DOCTYPE html>
<html lang="en">
  <head>
    
    <meta charset="utf-8" />
    <meta name="google-site-verification" content="mYl14XIV6DoN2K1OiMqEh26CqLJiIOchJUqUk8v4p5s" />
    <meta name="viewport" content="width=device-width" />
    
    <title>Puppet's tagged() Function Oddity | Kreamer.org</title>
    

    <link rel="stylesheet" href="/css/kreamerorg.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="/css/coderay.css" type="text/css" />
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600" type="text/css" />
  </head>
  <body>
    <div class="header">
      <div id="logo">
        <a href="/" title="Home" rel="home">
          <img src="/images/moon.png" alt="Home" id="logo-image"
               /><span id="logo-inner">Kreamer<span id="logo-dot">.</span>org</span>
        </a>
      </div>
      <div class="breadcrumbs">
<a href="/">Home</a>&nbsp;&nbsp;&bull;&nbsp;&nbsp;<a href="/technology/">Technology</a>&nbsp;&nbsp;&bull;&nbsp;&nbsp;<a href="/technology/puppet-tagged-oddity.html">Puppet's tagged() Function Oddity</a>
</div>

    </div>
    <div class="main">
      <div class="main-row">
        <div class="main-content">
          <h1>Puppet's tagged() Function Oddity</h1><div class="blog-header">
<p>Posted on August 15, 2013</p>
<p>Category: Technology</p>
</div><p>This is something I ran into at work today. Puppet's tagged() function does not work as I expected
in a particular circumstance.</p>
<p>For example, let's assume <code>modules/foo/manifests/bar.pp</code> contains the code below.</p>
<pre>
class foo::bar {
  file { '/tmp/foo':
    content =&gt; 'bar',
  }
}
</pre>
<p>There's nothing particular special here... we've simply defined a new class with some
standard puppetry inside. No inheritance or anything like that.
</p><p>Let's also assume that another module contained the code below. </p>
<pre>
  if tagged('foo') {
    // ... do something
  }
</pre>
<p>If a host is tagged with <code>foo::bar</code> and this other module, the "do
something" code would actually be run. <code>tagged('foo')</code> 
returns true, in this case, even though the host is really tagged with <code>foo::bar</code>.</p>

        </div>
        <div class="right-sidebar">
          <div class="right-sidebar-content">
            <div class="sidebar-item">
              <div class="sidebar-title">Recent Posts:</div>
              <ul>
                  <li><a href="/business/sears-and-misaligned-incentives">Sears and Misaligned Incentives</a></li><li><a href="/technology/on-almost-but-not-quite">On Almost But Not Quite</a></li><li><a href="/technology/puppet-tagged-oddity">Puppet's tagged() Function Oddity</a></li><li><a href="/technology/language-package-managers-considered-harmful">Language Package Managers Considered Harmful</a></li><li><a href="/technology/postgresql-managing-processes">Managing Queries in PostgreSQL</a></li>
              </ul>
            </div>
            <div class="sidebar-item">
              <div class="sidebar-link sidebar-title">
                <a href="/technology">Technology &rarr;</a>
              </div>
              <div class="sidebar-link sidebar-title">
                <a href="/business">Business &rarr;</a>
              </div>
              <div class="sidebar-link sidebar-title">
                <a href="/quotes">Quotes &rarr;</a>
              </div>
            </div>
            <div class="sidebar-item">
              <div class="sidebar-logos">
                <a href="https://www.github.com/kkreamer">
                  <img src="/images/octocat.jpg" alt="GitHub" />
                </a>
                <a href="https://www.linkedin.com/in/kevinkreamer">
                  <img src="/images/InBug-60px-TM.png" alt="LinkedIn" />
                </a>
                <a href="https://twitter.com/kkreamer">
                  <img src="/images/Twitter_logo_blue.png" alt="Twitter" />
                </a>
                <a href="http://www.4clojure.com/user/kkreamer">
                  <img src="/images/4clj-logo-small.png" alt="4Clojure" />
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="bottom-nav">
      <div class="bottom-nav-content">
        <div class="bottom-nav-item">
          <div class="bottom-nav-title">Recent Posts:</div>
          <ul>
            <li><a href="/business/sears-and-misaligned-incentives">Sears and Misaligned Incentives</a></li><li><a href="/technology/on-almost-but-not-quite">On Almost But Not Quite</a></li><li><a href="/technology/puppet-tagged-oddity">Puppet's tagged() Function Oddity</a></li><li><a href="/technology/language-package-managers-considered-harmful">Language Package Managers Considered Harmful</a></li><li><a href="/technology/postgresql-managing-processes">Managing Queries in PostgreSQL</a></li>
          </ul>
        </div>
        <div class="bottom-nav-item">
          <div class="bottom-nav-link bottom-nav-title">
            <a href="/technology">Technology &rarr;</a>
          </div>
        </div>
        <div class="bottom-nav-item">
          <div class="bottom-nav-link bottom-nav-title">
            <a href="/quotes">Quotes &rarr;</a>
          </div>
        </div>
        <div class="bottom-nav-item">
          <div class="bottom-nav-logos">
            <a href="https://www.github.com/kkreamer">
              <img src="/images/octocat.jpg" alt="GitHub" />
            </a>
            <a href="https://www.linkedin.com/in/kevinkreamer">
              <img src="/images/InBug-60px-TM.png" alt="LinkedIn" />
            </a>
            <a href="https://twitter.com/kkreamer">
              <img src="/images/Twitter_logo_blue.png" alt="Twitter" />
            </a>
            <a href="http://www.4clojure.com/user/kkreamer">
              <img src="/images/4clj-logo-small.png" alt="4Clojure" />
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="footer">
      <p>Copyright &copy; 2010-2015 Kevin Kreamer</p>
    </div>
  </body>
</html>
